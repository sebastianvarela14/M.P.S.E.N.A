{% extends "plantillacoor_inicio.html" %}
{% load static %}

{% block contenido %}

<style>
    .agregar-container {
        max-width: 650px;
        margin: 70px auto;
        background: #ffffff;
        border-radius: 16px;
        padding: 50px;
        box-shadow: 0 6px 25px rgba(0,0,0,0.12);
        border-top: 7px solid #198754;
        animation: fadeInUp 0.6s ease;
    }

    h2 {
        text-align: center;
        color: #198754;
        font-size: 27px;
        font-weight: 700;
        margin-bottom: 45px;
        letter-spacing: 1px;
    }

    label {
        font-weight: 600;
        margin-bottom: 6px;
        color: #222;
        font-size: 15px;
    }

    .custom-input {
        border-radius: 10px !important;
        padding: 14px !important;
        font-size: 15.5px !important;
        border: 1px solid #cfcfcf;
        transition: 0.2s;
    }

    .custom-input:focus {
        border-color: #198754;
        box-shadow: 0 0 5px rgba(25,135,84,0.4);
    }

    /* Nuevo estilo del botón MÁS */
    .btn-otro {
        background: #198754;
        color: white;
        border: none;
        padding: 7px 14px;
        font-size: 16px;
        border-radius: 50px; /* redondito */
        margin-left: 10px;
        transition: all 0.25s;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        box-shadow: 0 3px 10px rgba(25,135,84,0.3);
    }

    .btn-otro:hover {
        background: #146c43;
        transform: scale(1.08);
        box-shadow: 0 4px 12px rgba(20,108,67,0.35);
    }

    /* Botones finales */
    .btn-success {
        background-color: #198754 !important;
        border: none;
        padding: 12px 30px;
        border-radius: 10px;
        font-size: 17px;
    }

    .btn-cancelar {
        background: #d1d1d1;
        color: #000;
        padding: 12px 30px;
        font-size: 17px;
        border-radius: 10px;
    }

    .btn-container {
        display: flex;
        justify-content: flex-end;
        gap: 15px;
        margin-top: 40px;
    }
    select option {
        text-transform: uppercase;
    }

    select, select option {
    text-transform: uppercase;
}


    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(25px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>


<div class="agregar-container">

    <form method="POST">
        {% csrf_token %}

        <h2>➕ Agregar Ficha</h2>

        <!-- Número de Ficha -->
        <div class="mb-4">
            <label for="numeroFicha">Número de Ficha</label>
                <input name="numero_ficha"
                    type="number"
                    id="numeroFicha"
                    class="form-control custom-input">
            </div>

        <!-- JORNADA -->
        <div class="mb-4">
            <label>Jornada</label>
            <div class="d-flex">
                <select name="idjornada" class="form-select custom-input">
                    {% for j in jornadas %}
                    <option value="{{ j.id }}">{{ j.nombre }}</option>
                    {% endfor %}
                </select>

                <a href="{% url 'agregar_jornada' %}" class="btn-otro">+</a>
            </div>
        </div>

        <!-- PROGRAMA -->
        <div class="mb-4">
            <label>Programa</label>
            <div class="d-flex">
                <select name="idprograma" class="form-select custom-input">
                    {% for p in programas %}
                    <option value="{{ p.id }}">{{ p.programa }}</option>
                    {% endfor %}
                </select>

                <a href="{% url 'agregar_programa' %}" class="btn-otro">+</a>
            </div>
        </div>

        <!-- NOMBRE DEL PROGRAMA -->
        <div class="mb-4">
            <label>Nombre del Programa</label>
            <div class="d-flex">
                <select class="form-select custom-input" name="nombre_programa">
                    {% for np in nombres_programa %}
                        <option value="{{ np.id }}"
                            {% if ficha.nombre_programa_id == np.id %}selected{% endif %}>
                            {{ np.nombre }}
                        </option>
                    {% endfor %}
                </select>

                <a href="{% url 'agregar_nombre_programa' %}" class="btn-otro">+</a>
            </div>
        </div>
        
<div class="mb-4">
    <label>Estado de la Ficha</label>
    <select name="estado" class="form-select custom-input">
        <option value="Activa" {% if ficha.estado == "Activa" %}selected{% endif %}>ACTIVA</option>
        <option value="Inactiva" {% if ficha.estado == "Inactiva" %}selected{% endif %}>INACTIVA</option>
        <option value="Finalizada" {% if ficha.estado == "Finalizada" %}selected{% endif %}>FINALIZADA</option>
    </select>
</div>


        <!-- Botones -->
        <div class="btn-container">
            <a href="{% url 'coordinador' %}" class="btn btn-cancelar">Cancelar</a>
            <button type="submit" class="btn btn-success">Guardar</button>
        </div>

    </form>

</div>

{% endblock %}
