{% extends "plantillacoor.html" %}
{% load static %}

{% block titulo %}Equipo Ejecutor - Trimestre {{ trimestre }}{% endblock %}

{% block contenido %}
<style>
    .accordion-button {
    background: #ffffff;
    color: #212529;
    font-weight: 500;
    border-left: 4px solid #2e7d32;
    border-radius: 4px !important;
    margin-bottom: 8px;
    padding: 12px 16px;
    box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
    transition: background 0.2s ease, color 0.2s ease;
    }
    .accordion-button:not(.collapsed) {
    background: #e6f4e6;
    color: #1b5e20;
    box-shadow: 0 4px 10px rgb(46 125 50 / 0.25);
    }
    .accordion-button > .bi-folder-fill {
    color: #2e7d32;
    margin-right: 12px;
    font-size: 1.25rem;
    }
    .accordion-body {
    background: #f6fdf6;
    border-left: 4px solid #2e7d32;
    border-radius: 0 0 4px 4px;
    color: #212529;
    }
    .descripcion {
    background: #f1f8f4;
    border-left: 4px solid #4caf50;
    padding: 12px;
    border-radius: 6px;
    margin-bottom: 15px;
    font-size: 14px;
    color: #2c3e50;
    }
    .archivo {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 10px 14px;
    margin-bottom: 8px;
    }
    .archivo-info {
    display: flex;
    align-items: center;
    gap: 10px;
    }
    .btn-download {
    font-size: 13px;
    padding: 5px 12px;
    border-radius: 6px;
    }
    .btn-add {
    margin-top: 8px;
    font-size: 13px;
    border-radius: 6px;
    }
</style>

<div class="container mt-4 mb-5">
<h3 class="fw-bold text-center mb-4">Equipo Ejecutor - Ficha {{ ficha.numero_ficha }} (Trimestre {{ trimestre }})</h3>

<div class="accordion" id="accordionCarpetas">

    {% for carpeta in carpetas %}
        {% if not carpeta.parent %} {# Solo mostrar carpetas principales en el primer nivel #}
            {% include 'paginas/coordinador/_carpeta_item.html' with carpeta=carpeta %}
        {% endif %}
    {% empty %}
        <div class="alert alert-info text-center">
            No hay carpetas para mostrar en este trimestre.
        </div>
    {% endfor %}
</div>
</div>
{% endblock %}
