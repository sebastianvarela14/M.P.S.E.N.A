{% extends "plantillains.html" %}

{% block contenido %} 

    <!DOCTYPE html>
    <html lang="es">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calificaciones</title>
    <style>
        body {
        font-family: "Segoe UI", Arial, sans-serif;
        background-color: #f5f7fa;
        margin: 0;
        padding: 0;
        color: #333;
        }

        /* --- T√çTULO --- */
        h2 {
        text-align: center;
        margin: 40px 0 30px 0;
        color: #2e7d32;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 28px;
        font-weight: 700;
        position: relative;
        display: inline-block;
        animation: fadeInDown 0.7s ease;
        }

        h2::after {
        content: "";
        display: block;
        width: 80px;
        height: 4px;
        background-color: #2e7d32;
        margin: 10px auto 0 auto;
        border-radius: 2px;
        }

        /* --- TABLA --- */
        table {
        width: 85%;
        margin: auto;
        border-collapse: collapse;
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        animation: fadeInUp 0.8s ease;
        }

        thead {
        background-color: #2e7d32;
        color: white;
        text-transform: uppercase;
        }

        th, td {
        padding: 15px;
        text-align: center;
        font-size: 14px;
        border: 1px solid #ddd;
        }

        tbody tr {
        transition: background-color 0.3s ease;
        }

        tbody tr:hover {
        background-color: #f0f8f0;
        }

        a {
        color: #2e7d32;
        font-weight: 600;
        text-decoration: none;
        transition: color 0.3s ease;
        }

        a:hover {
        color: #1b5e20;
        text-decoration: underline;
        }

        .text-warning {
        color: #ff9800;
        font-weight: 600;
        }

        .text-danger {
        color: #d32f2f;
        font-weight: 700;
        }

    </style>
    </head>
<body>
    <div class="title-container" style="text-align:center;">
        <h2>Calificaciones de la Ficha {{ ficha.numero_ficha }}</h2>
        <p style="margin-top: -20px; color: #555;">{{ ficha.idprograma.programa|title }}</p>
    </div>

    <table>
    <thead>
        <tr>
            <th style="width: 25%;">Aprendiz</th>

            {% for guia in guias_ficha %}
                <th>{{ guia.titulo }}</th>
            {% endfor %}
        </tr>
    </thead>

    <tbody>
        {% for item in aprendices_calificaciones %}
        <tr>
            <th scope="row">
                {{ item.aprendiz.nombres|title }} {{ item.aprendiz.apellidos|title }}
            </th>

            {% for calificacion in item.calificaciones %}
            <td>
                <span class="{{ calificacion.clase_css }}">
                    {{ calificacion.texto }}
                </span>

                {% if calificacion.url %}
                    <br>
                    <a href="{{ calificacion.url }}">Ver</a>
                {% endif %}
            </td>
            {% endfor %}
        </tr>
        {% empty %}
        <tr>
            <td colspan="{{ guias_ficha|length|add:'1' }}" style="padding: 20px; color: #777;">
                No hay aprendices ni calificaciones registradas.
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</body>
</html>

{% endblock %}